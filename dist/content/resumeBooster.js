(()=>{"use strict";var e={779:(e,t,o)=>{e=o.hmd(e),console.log("HeadHunter Resume Auto-Boost Extension: Content script loaded"),window.resumeBoosterLoaded=!0;const n=['button[data-qa="resume-update-button"]','button[data-qa="resume-boost-button"]','button[data-qa="resume-raise-button"]','button[data-qa="resume-refresh-button"]','button[data-qa="resume-promote-button"]','a[data-qa="resume-update-button"]',".resume-update-button",".boost-button",".resume-raise-button",'[class*="resume"][class*="update"]','[class*="resume"][class*="boost"]','[class*="resume"][class*="raise"]','[class*="resume"][class*="refresh"]','[class*="resume"][class*="promote"]','button:contains("–ü–æ–¥–Ω—è—Ç—å –≤ –ø–æ–∏—Å–∫–µ")','button:contains("–ü–æ–¥–Ω—è—Ç—å —Ä–µ–∑—é–º–µ")','button:contains("–ü–æ–¥–Ω—è—Ç—å")','button:contains("–û–±–Ω–æ–≤–∏—Ç—å")','button:contains("–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—å")','button:contains("Refresh")','a:contains("–ü–æ–¥–Ω—è—Ç—å –≤ –ø–æ–∏—Å–∫–µ")','a:contains("–ü–æ–¥–Ω—è—Ç—å —Ä–µ–∑—é–º–µ")','a:contains("–ü–æ–¥–Ω—è—Ç—å")'];let s=!1,a=!1,c=null,r=null,i=null;function l(){if(!s&&!a){a=!0,console.log("HeadHunter Resume Auto-Boost: Content script initializing...");try{chrome.runtime.onMessage.hasListener(g)&&chrome.runtime.onMessage.removeListener(g),chrome.runtime.onMessage.addListener(g),console.log("Message listener set up"),c&&c.disconnect(),c=new MutationObserver((e=>{let t=!1;for(const o of e){if("childList"===o.type){const e=[...Array.from(o.addedNodes),...Array.from(o.removedNodes)];for(const o of e)if(o.nodeType===Node.ELEMENT_NODE){const e=o;if("BUTTON"===e.tagName||e.querySelector("button")||e.classList.contains("resume-update")||e.classList.contains("boost")){t=!0;break}}}if("attributes"===o.type&&o.target.nodeType===Node.ELEMENT_NODE){const e=o.target;("BUTTON"===e.tagName||e.closest("button")||["disabled","aria-disabled","class"].includes(o.attributeName||""))&&(t=!0)}}t&&setTimeout(h,100)})),c.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["disabled","aria-disabled","class"]}),console.log("Mutation observer set up"),async function(){r&&clearTimeout(r);try{const e=60*((await chrome.storage.sync.get(["extension_settings"])).extension_settings||{refreshInterval:15}).refreshInterval*1e3;r=setTimeout((()=>{m()}),e),console.log(`Page refresh scheduled in ${e/1e3/60} minutes`)}catch(e){console.error("Failed to get refresh interval from settings, using default 15 minutes:",e),r=setTimeout((()=>{m()}),9e5)}}().catch((e=>{console.error("Failed to setup page refresh:",e)})),setTimeout((()=>{h(),console.log("Initial button state check completed")}),1e3),setTimeout((()=>h()),3e3),setTimeout((()=>h()),5e3),s=!0,console.log("HeadHunter Resume Auto-Boost: Content script initialized")}finally{a=!1}}}function u(){console.log("üîç Searching for boost button...");const e=["–ü–æ–¥–Ω—è—Ç—å –≤ –ø–æ–∏—Å–∫–µ","–ü–æ–¥–Ω—è—Ç—å —Ä–µ–∑—é–º–µ","–ü–æ–¥–Ω—è—Ç—å","–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑—é–º–µ","–û–±–Ω–æ–≤–∏—Ç—å"];console.log("üéØ Step 1: Looking for exact text matches...");for(const t of e){const e=document.querySelectorAll('button, a, [role="button"]');for(let o=0;o<e.length;o++){const n=e[o];if((n.textContent?.trim()||"")===t)return console.log(`‚úÖ Found exact match for "${t}":`,n),n}}console.log("üéØ Step 2: Looking for partial text matches...");for(const t of e){const e=document.querySelectorAll('button, a, [role="button"]');for(let o=0;o<e.length;o++){const n=e[o];if((n.textContent?.trim()||"").includes(t))return console.log(`‚úÖ Found partial match for "${t}":`,n),n}}console.log("üéØ Step 3: Trying data-qa selectors...");for(const e of n)try{if(!e.includes(":contains(")){const t=document.querySelector(e);if(t)return console.log(`‚úÖ Found button with selector "${e}":`,t),t}}catch(t){console.warn(`‚ùå Failed to query selector ${e}:`,t)}console.log("üéØ Step 4: Aggressive keyword search...");const t=document.querySelectorAll('button, a, [role="button"], [class*="button"], [class*="btn"], span[onclick], div[onclick], [data-qa*="button"], [data-qa*="update"], [data-qa*="boost"], [data-qa*="raise"]');console.log(`üîç Searching through ${t.length} clickable elements...`);const o=["–ø–æ–¥–Ω—è—Ç—å","boost","raise","update","–æ–±–Ω–æ–≤–∏—Ç—å","–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—å","refresh","–ø–æ–¥–Ω–∏–º–∞—Ç—å","–æ–±–Ω–æ–≤–ª—è—Ç—å"];for(let e=0;e<t.length;e++){const n=t[e],s=n.textContent?.toLowerCase().trim()||"",a=n.getAttribute("data-qa")?.toLowerCase()||"",c=n.className?.toLowerCase()||"";for(const e of o)if(s.includes(e)||a.includes(e)||c.includes(e))return console.log(`‚úÖ Found potential boost button via keyword "${e}":`,{element:n,text:n.textContent?.trim(),dataQa:n.getAttribute("data-qa"),className:n.className}),n}return console.log(`‚ùå No boost button found. Total clickable elements on page: ${t.length}`),t.length>0&&(console.log("üìã Available clickable elements (first 20):"),t.forEach(((e,t)=>{t<20&&console.log(`  ${t+1}. Text: "${e.textContent?.trim()}", Classes: "${e.className}", Data-qa: "${e.getAttribute("data-qa")}", Tag: "${e.tagName}"`)}))),null}function d(){const e=u();if(!e)return!1;if(e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled"))return!1;const t=e.classList,o=["disabled","inactive","loading","cooldown"];for(const e of o)if(t.contains(e))return!1;const n=e.textContent?.toLowerCase()||"",s=["–ø–æ–¥–æ–∂–¥–∏—Ç–µ","–æ–±–Ω–æ–≤–ª–µ–Ω–æ","–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ","–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ"];for(const e of s)if(n.includes(e))return!1;return!0}async function b(){try{const e=u();if(!e)return console.warn("‚ùå Boost button not found"),!1;if(!d())return console.warn("‚ùå Boost button is not active/clickable"),!1;console.log("üéØ Found boost button, attempting to click:",{text:e.textContent?.trim(),dataQa:e.getAttribute("data-qa"),className:e.className,tagName:e.tagName,disabled:e.disabled||e.hasAttribute("disabled"),ariaDisabled:e.getAttribute("aria-disabled"),offsetParent:!!e.offsetParent}),e.scrollIntoView({behavior:"smooth",block:"center"}),await new Promise((e=>setTimeout(e,500)));let t=!1;const o=[];try{e.focus(),await new Promise((e=>setTimeout(e,100))),e.click(),console.log("‚úÖ Method 1: Direct click executed"),o.push("Direct click: SUCCESS"),t=!0}catch(e){console.warn("‚ùå Method 1 failed:",e),o.push(`Direct click: FAILED - ${e}`)}try{const n=e.getBoundingClientRect(),s=n.left+n.width/2,a=n.top+n.height/2,c=[{type:"mouseover",bubbles:!0},{type:"mouseenter",bubbles:!1},{type:"mousemove",bubbles:!0},{type:"mousedown",bubbles:!0,button:0},{type:"mouseup",bubbles:!0,button:0},{type:"click",bubbles:!0,button:0}];for(const t of c){const o=new MouseEvent(t.type,{bubbles:t.bubbles,cancelable:!0,view:window,button:t.button||0,buttons:1,clientX:s,clientY:a,screenX:s+window.screenX,screenY:a+window.screenY});e.dispatchEvent(o)}console.log("‚úÖ Method 2: Comprehensive mouse event sequence executed"),o.push("Mouse events: SUCCESS"),t=!0}catch(e){console.warn("‚ùå Method 2 failed:",e),o.push(`Mouse events: FAILED - ${e}`)}try{e.focus();const n=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0,cancelable:!0});e.dispatchEvent(n);const s=new KeyboardEvent("keydown",{key:" ",code:"Space",keyCode:32,which:32,bubbles:!0,cancelable:!0});e.dispatchEvent(s),console.log("‚úÖ Method 3: Keyboard events (Enter + Space) executed"),o.push("Keyboard events: SUCCESS"),t=!0}catch(e){console.warn("‚ùå Method 3 failed:",e),o.push(`Keyboard events: FAILED - ${e}`)}try{const n=e.closest("form");n?(n.submit(),console.log("‚úÖ Method 4: Form submission executed"),o.push("Form submit: SUCCESS"),t=!0):o.push("Form submit: SKIPPED (no form)")}catch(e){console.warn("‚ùå Method 4 failed:",e),o.push(`Form submit: FAILED - ${e}`)}try{const n=e.onclick;n?(n.call(e,new MouseEvent("click")),console.log("‚úÖ Method 5: Direct onclick handler executed"),o.push("Direct onclick: SUCCESS"),t=!0):o.push("Direct onclick: SKIPPED (no handler)")}catch(e){console.warn("‚ùå Method 5 failed:",e),o.push(`Direct onclick: FAILED - ${e}`)}try{const n=e.closest('[onclick], [role="button"], a, button');n&&n!==e?(n.click(),console.log("‚úÖ Method 6: Parent element click executed"),o.push("Parent click: SUCCESS"),t=!0):o.push("Parent click: SKIPPED (no clickable parent)")}catch(e){console.warn("‚ùå Method 6 failed:",e),o.push(`Parent click: FAILED - ${e}`)}try{const n=e.getAttribute("href");n&&"#"!==n?(window.location.href=n,console.log("‚úÖ Method 7: Direct navigation executed"),o.push("Direct navigation: SUCCESS"),t=!0):o.push("Direct navigation: SKIPPED (no href)")}catch(e){console.warn("‚ùå Method 7 failed:",e),o.push(`Direct navigation: FAILED - ${e}`)}if(console.log("üìä Click attempt summary:",o),t){console.log("üéâ Boost button click attempts completed"),await new Promise((e=>setTimeout(e,3e3)));const e=u();if(e){const t=d();if(console.log("üìä Button state after click:",{found:!!e,active:t,text:e.textContent?.trim(),disabled:e.disabled||e.hasAttribute("disabled"),ariaDisabled:e.getAttribute("aria-disabled")}),!t)return console.log("‚úÖ Button appears to be disabled after click - likely successful"),!0}const t=["–æ–±–Ω–æ–≤–ª–µ–Ω–æ","–ø–æ–¥–Ω—è—Ç–æ","—É—Å–ø–µ—à–Ω–æ","updated","boosted","success"],o=document.body.textContent?.toLowerCase()||"";for(const e of t)if(o.includes(e))return console.log(`‚úÖ Found success indicator "${e}" on page`),!0;return!0}return console.error("‚ùå All click methods failed"),!1}catch(e){return console.error("‚ùå Failed to click boost button:",e),!1}}function m(){try{console.log("Refreshing page to maintain session..."),window.location.reload()}catch(e){console.error("Failed to refresh page:",e)}}function h(){const e=u(),t=d();i!==t&&(i=t,function(e){try{return chrome.runtime.sendMessage(e),!0}catch(t){return console.error("Failed to send message to background:",t),"BUTTON_STATE"===e.type&&console.warn("Button state update failed - extension may not be responding"),!1}}({type:"BUTTON_STATE",success:!0,data:{buttonFound:!!e,isActive:t,buttonText:e?.textContent||null}})||console.warn("Failed to notify background script of button state change"))}function g(e,t,o){switch(console.log("Content script received message:",e),e.type){case"BOOST_RESUME":return async function(e){try{e({type:"BUTTON_CLICKED",success:await b(),data:{timestamp:Date.now(),buttonFound:!!u(),wasActive:d()}})}catch(t){console.error("Error handling boost request:",t),e({type:"ERROR",success:!1,data:{error:t instanceof Error?t.message:"Unknown error",timestamp:Date.now()}})}}(o),!0;case"CHECK_BUTTON_STATE":return function(e){const t=u();e({type:"BUTTON_STATE",success:!0,data:{buttonFound:!!t,isActive:d(),buttonText:t?.textContent||null,timestamp:Date.now()}})}(o),!1;case"REFRESH_PAGE":return m(),o({type:"PAGE_REFRESHED",success:!0}),!1;case"GET_STATE":return function(e){const t=u();e({type:"BUTTON_STATE",success:!0,data:{isInitialized:s,buttonFound:!!t,isActive:d(),buttonText:t?.textContent||null,url:window.location.href,title:document.title,timestamp:Date.now()}})}(o),!1;case"SETTINGS_UPDATE":return n=e.data,console.log("üîÑ Content script received settings update:",n),console.log("üîÑ Settings type:",typeof n),console.log("üîÑ Settings keys:",Object.keys(n||{})),n&&n.refreshInterval?(console.log(`üîÑ Updating page refresh interval to ${n.refreshInterval} minutes`),function(e){console.log(`üîÑ Setting up page refresh with interval: ${e} minutes`),r&&(console.log("üîÑ Clearing existing refresh timer"),clearTimeout(r));try{const t=60*e*1e3;console.log(`üîÑ Calculated refresh interval: ${t}ms`),r=setTimeout((()=>{console.log("üîÑ Page refresh timer expired, refreshing page..."),m()}),t),console.log(`‚úÖ Page refresh scheduled in ${e} minutes (${t}ms)`)}catch(e){console.error("‚ùå Failed to setup page refresh with interval:",e),r=setTimeout((()=>{m()}),9e5),console.log("üîÑ Fallback: Page refresh scheduled in 15 minutes")}}(n.refreshInterval)):console.warn("üîÑ No refreshInterval found in settings:",n),o({type:"BUTTON_STATE",success:!0}),!1;case"TEST_MESSAGE":return console.log("üß™ Content script –ø–æ–ª—É—á–∏–ª TEST_MESSAGE"),o({type:"TEST_RESPONSE",success:!0,data:{loaded:!0,timestamp:Date.now(),url:window.location.href}}),!1;default:return console.warn("Unknown message type:",e.type),o({type:"ERROR",success:!1,data:"Unknown message type"}),!1}var n}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l(),window.addEventListener("beforeunload",(function(){c&&(c.disconnect(),c=null),r&&(clearTimeout(r),r=null),chrome.runtime.onMessage.hasListener(g)&&chrome.runtime.onMessage.removeListener(g),s=!1,console.log("Content script cleaned up")})),e.exports&&(e.exports={findBoostButton:u,isButtonActive:d,clickBoostButton:b,refreshPage:m,checkButtonState:h})}},t={};function o(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,o),a.loaded=!0,a.exports}o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o(779)})();